<!DOCTYPE html>
<html>
 <head>
  <link href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB3kKP/fn5eAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQ0dMFAAAAAAAAAAAAAAAAJmnsv8AAAAAeZes/0hqgf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADH1t//AAAAAAAAAAC3xtL/AAAAAAAAAAB7i5v/rsHO/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxtff/wAAAAAAAAAArbbC/1Nic/8vOlX/prbC/6y4xP9ld37/k6Kr/6CwuPsAAAAAAAAAAAAAAAAAAAAAAAAAAMbT3P8AAAAAAAAAALnDy/9VZXj/aXSH/7zDyv+qtb7/ur3BngAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACru8v/AAAAAJepuv+wvMT/hZSd/4KTnv+suMP/qrC4/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwczV/7zL1v/M1d7/o7C5/4GQnf+ksbr/o7C5/7C1vP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALnE0v/V3OX/y9La/56nr/8LCwj/nqet/xEOCv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANzh5v/N1Nr/zdHY/7nDz/+OmJ7/EA8K/52jqv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNPa/8vV3P94hIr/eYWJ/2txcP+2wMb/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANTd5P+bp7P/Y3iB/3yMkv+YoKX/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+ipP/ZISU/2h7hP+Ij5T/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASFJc/zMuI/8/ZYH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZ5rC/TZuqv9KdKP/JUFe/1hfaFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALDpM/xwuQ/8hQWf/ZaPP/w4TEv8PFyH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGNrdzs8YpP/ZqDJxVNngN1CY4P/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/f8AAP6fAAD2zwAA9gEAAPYHAAD0DwAA8A8AAPAfAADgPwAA8D8AAPB/AADw/wAA8f8AAOH/AADA/wAA4f8AAA==" rel="icon" type="image/x-icon" />
 <!-- styles put here, but you can include a CSS file and reference it instead! -->
   <style type="text/css">
      html,
      body {
        font-family: Arial, sans-serif;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      .container {
        height: 100%;
        position: relative;
      }

      input {
        font-size: 12px;
      }

      h1 {
        color: #525454;
        font-size: 22px;
        margin: 0 0 10px 0;
        text-align: center;
      }

      #hide-listings,
      #show-listings {
        width: 48%;
      }

      #map {
        bottom:0px;
        height: 100%;
        left: 362px;
        position: absolute;
        right: 0px;
      }

      .options-box {
        background: #fff;
        border: 1px solid #999;
        border-radius: 3px;
        height: 100%;
        line-height: 35px;
        padding: 10px 10px 30px 10px;
        text-align: left;
        width: 340px;
      }
    </style>
 </head>
 <body>
  <div class="container">
    <div class="options-box">
      <h3>Check Out the CPT!</h3>
    <div>
      <input id="show-listings" type="button" value="Show Listings">
      <input id="hide-listings" type="button" value="Hide Listings">
    </div>
  </div>  
    <div id="map"></div>
  </div>

    <script>
      var map;

      // Creating a new blank marker array (globally) for the listings.
      var markers = [];

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 37.3230, lng: -122.0322},
          zoom: 13,
          mapTypeControl: false
        });
      // These are the real estate listings that will be shown to the user.
      // Normally we'd have these in a database instead 
      var locations = [
        {title: 'Cupertino High School', location: {lat: 37.3196, lng: -122.0092}},
        {title: 'Cupertino Civic Center/Cupertino Library', location: {lat: 37.318383, lng: -122.028387}},
        {title: 'The Mothership of Apple Computers', location: {lat: 37.331695, lng: -122.030091}},
        {title: 'Apple Campus 2/Spaceship Campus', location: {lat: 37.335450, lng: -122.008688}},
        {title: 'Vallco Shopping Mall', location: {lat: 37.326779, lng: -122.012897}},
      ];

      var largeInfowindow = new google.maps.InfoWindow();
      // var bounds = new google.maps.LatLngBounds();

      // The following group uses the location array to create an array of markers on initialize
      for (var i = 0; i < locations.length; i++) {
        // Get the position from the location array.
        var position = locations[i].location;
        var title = locations[i].title;
        // Create a marker per location, and put into markers array.
        var marker = new google.maps.Marker({
          position: position,
          title: title,
          animation: google.maps.Animation.DROP,
          id: i
        });
        // Push the marker to our array of markers.
        markers.push(marker);
        // Create an onclick event to open an infiwindow at each marker. 
        marker.addListener('click', function() {
          populateInfoWindow(this, largeInfowindow);
        });
      } 
      document.getElementById('show-listings').addEventListener('click', showListings);
      document.getElementById('hide-listings').addEventListener('click', hideListings);
    }
      // This function populates the infowindow when the marker is clicked. We'll only allow one infowindow which will open at the marker that is clicked, and populate based on that marker's position. 
      function populateInfoWindow(marker, infowindow) {
        // Check to make sure the infowindow is not already opened in this marker. 
        if (infowindow.marker != marker) {
          infowindow.marker = marker;
          infowindow.setContent('<div>' + marker.title + '</div>');
          infowindow.open(map, marker);
          // Make sure the marker property is cleared if the infowindow is closed.
          infowindow.addListener('closeclick',function(){
          infowindow.setMarker(null);
          });
        }
      }   

      // This function will loop through the markers array and display them all
      function showListings() {
        var bounds = new google.maps.LatLngBounds();
        // Extend the boundaries of the map for each marker and display the marker
        for (var i = 0; i < markers.length; i++) {
          markers[i].setMap(map);
          bounds.extend(markers[i].position);
        }
        map.fitBounds(bounds);
      }
      // This function will loop through the listings and hide them all
      function hideListings() {
        for (var i = 0; i < markers.length; i++) {
          markers[i].setMap(null);
        }
      }
    </script>
   <!--Loaded the Javascript asynchronously below.-->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB56jZO1ju-qfea2i9V8sQNXb5jKQ0OGmQ&v=3&callback=initMap"
    ></script>
 </body>
</html>
















